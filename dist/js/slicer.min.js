+function(t,i){function s(i,s){this.ele=i,this.options=t.extend({},o,s),this.info={current:0,counts:0,width:0,totalWidth:0,autoPlayId:null},this.init()}var n="slicer",o={autoplay:!0,loop:!0,dir:1,prevNext:!0,bullets:!0,speed:300,duration:2e3};t.extend(s.prototype,{init:function(){this.cacheEle(),this.cloneItems(),this.getProps(),this.setProps(),this.options.prevNext&&this.prevNext(),this.options.bullets&&this.bullets(),this.resetSlide(),this.options.autoplay&&this.autoPlay()},cacheEle:function(){this.$slider=t(this.ele),this.$wrapper=this.$slider.find(".sl-wrapper"),this.$items=this.$wrapper.find(".sl-item")},cloneItems:function(){this.$items.filter(":last").clone().prependTo(this.$wrapper),this.$items.filter(":first").clone().appendTo(this.$wrapper),this.$items=this.$wrapper.find(".sl-item")},getProps:function(){this.info.counts=this.$items.length,this.info.width=100/this.info.counts,this.info.totalWidth=100*this.info.counts},setProps:function(){this.$wrapper.css({width:this.info.totalWidth+"%"}),this.$items.css({width:this.info.width+"%"})},resetSlide:function(){this.setCurrent(1),this.jumpTo(1)},autoPlay:function(){var t=this;this.info.autoPlayId=i.setTimeout(function(){t.play.call(t,t.options.dir)},this.options.duration)},play:function(t){1===this.options.dir?this.playRight():this.options.dir===-1&&this.playLeft()},playRight:function(){var t=this.info.current+1;t==this.info.counts-1?(this.setCurrent(1),this.ForwardThenJumpAndReAutoPlay()):(this.setCurrent(t),this.forward(),this.reAutoPlay())},playLeft:function(){var t=this.info.current-1;0==t?(this.setCurrent(this.info.counts-2),this.BackwardThenJumpAndReAutoPlay()):(this.setCurrent(t),this.backward(),this.reAutoPlay())},ForwardThenJumpAndReAutoPlay:function(){var t=this;this.forward(function(){t.jumpToStart.call(t),t.reAutoPlay()})},BackwardThenJumpAndReAutoPlay:function(){var t=this;this.backward(function(){t.jumpToEnd.call(t),t.reAutoPlay()})},jumpToStart:function(){this.stopAutoPlay(),this.jumpTo(1)},jumpToEnd:function(){this.stopAutoPlay(),this.jumpTo(this.info.counts-2)},reAutoPlay:function(){(this.info.current<this.info.counts-2||this.options.loop)&&this.autoPlay()},stopAutoPlay:function(){this.$wrapper.stop(!0,!0),i.clearTimeout(this.info.autoPlayId)},setCurrent:function(t){this.info.current=t,this.$slider.find(".sl-bullets li").css({backgroundColor:"#333"}).eq(t-1).css({backgroundColor:"#fff"})},jumpTo:function(t){this.$wrapper.css({right:(100*t).toString()+"%"})},forward:function(t){this.switchSlide(this.info.current+1,{speed:this.options.speed},t)},backward:function(t){this.switchSlide(this.info.current-1,{speed:this.options.speed},t)},switchTo:function(t){var i=this;this.stopAutoPlay(),this.switchSlide(t,{},function(){i.reAutoPlay.call(i)}),this.setCurrent(t)},switchSlide:function(t,i,s){var t="undefined"==typeof t?1:t,n=i||{},o="undefined"==typeof n.speed?300:n.speed,e=100*(parseInt(t)-this.info.current);e=e>0?"+="+e+"%":"-="+-e+"%","function"==typeof s?this.$wrapper.animate({right:e},o,"swing",s):this.$wrapper.animate({right:e},o,"swing")},prevNext:function(){0==this.$slider.find(".sl-controls").length&&this.addControls()},addControls:function(){var s=this;t('<div class="sl-controls"><span class="prev fa fa-angle-left fa-2x"></span><span class="next fa fa-angle-right fa-2x"></span></div>').find("span").css({display:"block",position:"absolute",border:"none",backgroundColor:"#333",color:"#999",padding:"5px",opacity:"0.5",cursor:"pointer"}).end().find(".prev").css({left:"0",top:"43%"}).on("click",function(){s.info.clickTimer&&i.clearTimeout(s.info.clickTimer),s.info.clickTimer=i.setTimeout(function(){s.prevEvent.call(s)},50)}).end().find(".next").css({right:"0",top:"43%"}).on("click",function(){s.info.clickTimer&&i.clearTimeout(s.info.clickTimer),s.info.clickTimer=i.setTimeout(function(){s.nextEvent.call(s)},50)}).end().appendTo(this.$slider);var n=this.$slider.height(),o=this.$slider.find(".sl-controls .prev").height(),e=(n-o)/2/o*100;this.$slider.find("sl-controls span").css({top:e+"%"})},prevEvent:function(){console.log("click"),this.stopAutoPlay(),this.playLeft()},nextEvent:function(){console.log("click"),this.stopAutoPlay(),this.playRight()},bullets:function(){0==this.$slider.find(".sl-bullets").length&&this.addBullets()},addBullets:function(){this.info.bulletsTimer=null;var s=this,n=t('<ul class="sl-bullets"></ul>');n.css({position:"absolute",left:"40%",top:"90%"});for(var o=1;o<=this.info.counts-2;o++)t("<li></li>").css({float:"left",width:"12px",height:"12px",borderRadius:"9999px",marginRight:"15px",cursor:"pointer",backgroundColor:"#ddd",opacity:"0.5"}).attr("sl-bullet-number",o).appendTo(n);n.on("click","li",function(t){s.info.clickTimer&&i.clearTimeout(s.info.clickTimer),s.info.clickTimer=i.setTimeout(function(){s.bulletEvent.call(s,t)},50)}).appendTo(this.$slider),this.$bullets=this.$slider.find(".sl-bullets");var e=this.$slider.width(),l=this.$bullets.width(),r=(e-l)/2/e*100;this.$bullets.css({left:r+"%"})},bulletEvent:function(i){console.log("click bullet");var s=parseInt(t(i.target).attr("sl-bullet-number"));this.switchTo(s)}}),t.fn[n]=function(i){return this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new s(this,i))})}}(jQuery,window);